<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.11: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<div class="section" id="id1">
<h1>0.5.0</h1>
<div class="section" id="breaking-changes">
<h2>Breaking changes</h2>
<p>As many people have been using D:YAML from git master since the 0.4 release, each change
is prefixed by the year the change was introduced.</p>
<ul class="simple">
<li><tt class="docutils literal">2014</tt> The <tt class="docutils literal">cdc.d</tt> build script has been removed; dub is now the only 'official'
way to build D:YAML.</li>
<li><tt class="docutils literal">2014</tt> Broke compatibility with all DMD versions before 2.066</li>
<li><tt class="docutils literal">2014</tt> <tt class="docutils literal">Loader</tt> API depending on <tt class="docutils literal">std.stream</tt> is now deprecated and will be
removed in the next release.</li>
<li><tt class="docutils literal">2014</tt> <tt class="docutils literal">Loader.fromString(string)</tt> is now deprecated and replaced by
<tt class="docutils literal"><span class="pre">Loader.fromString(char[])</span></tt>, which will reuse and overwrite the input during
parsing. The string overload will be removed in the next release.</li>
<li><tt class="docutils literal">2012</tt> Values in D:YAML are less 'dynamic-typed'. E.g. removing <tt class="docutils literal">&quot;42&quot;</tt> won't
also remove <tt class="docutils literal">42</tt>. Such automatic conversion still happens e.g. in a foreach
over a mapping with a string key. The <tt class="docutils literal">Node.as()</tt> method has a template
parameter to disable automatic conversion from strings to other types.</li>
</ul>
</div>
<div class="section" id="api-improvements">
<h2>API improvements</h2>
<ul class="simple">
<li><tt class="docutils literal">Loader</tt> is now, by default, constructed from a non-const buffer containing YAML
data instead of a <tt class="docutils literal">std.stream.Stream</tt>. D:YAML reuses and overwrites this buffer to
minimize memory allocations during parsing.  Convenience API such as the <tt class="docutils literal">Loader</tt>
constructor from a filename is unchanged although it loads the file to a buffer
internally.</li>
<li><tt class="docutils literal">Node.contains()</tt> method to check if a YAML sequence/mapping contains specified
value (as opposed to a key).</li>
<li><tt class="docutils literal">Node.containsKey()</tt> method to check if a YAML mapping contains specified key.</li>
<li><tt class="docutils literal">Node.isNull()</tt> property.</li>
<li><tt class="docutils literal">Node operator in</tt> analogous to associative array <tt class="docutils literal">in</tt>.</li>
<li><tt class="docutils literal">Loader.fromString()</tt> method as a quick wrapper to parse YAML from a string.</li>
<li><tt class="docutils literal">dyaml.hacks</tt> module for potentially useful things YAML specification doesn't allow.</li>
<li>Most of the API is <tt class="docutils literal">&#64;safe</tt> or at least <tt class="docutils literal">&#64;trusted</tt>. Also <tt class="docutils literal">pure</tt> and <tt class="docutils literal">nothrow</tt>
where possible.</li>
<li>User-defined constructors can now also construct builtin YAML types.</li>
<li>Input is now validated at Loader construction to detect invalid UTF sequences early
and to minimize internal exception handling during parsing.</li>
</ul>
</div>
<div class="section" id="other-improvements">
<h2>Other improvements</h2>
<ul class="simple">
<li>D:YAML now works with a UTF-8 buffer internally. This decreases memory usage for UTF-8
input, and UTF-32 inputs can be encoded into UTF-8 in-place without allocating.
UTF-16 inputs still need an allocation. This also gets rid of all dchar[]-&gt;char[]
conversions which were a significant source of GC allocations.</li>
<li>Various optimizations in <tt class="docutils literal">Reader</tt>/<tt class="docutils literal">Scanner</tt>, especially for mostly-ASCII files
containing plain scalars (most common YAML files). Measured speedup of ~80% when
parsing mostly-ASCII
files, slowdown of ~12% for mostly non-ASCII files (all tested files were UTF-8).</li>
<li>Less GC usage during YAML node construction.</li>
<li><tt class="docutils literal">Scanner</tt> is now mostly <tt class="docutils literal">&#64;nogc</tt>; it never allocates memory for token values, using
slices into the input buffer instead.</li>
<li>Custom, <tt class="docutils literal">&#64;nogc</tt> UTF decoding/encoding code based on <tt class="docutils literal">std.utf</tt> to enable more use
of <tt class="docutils literal">&#64;nogc</tt> in D:YAML internals and to improve performance.</li>
<li>Less memory allocations during scanning in general, including manual allocations.</li>
<li>Default <tt class="docutils literal">Constructor</tt>/<tt class="docutils literal">Resolver</tt> are now only constructed if the user doesn't
specify their own.</li>
<li>Replaced <tt class="docutils literal">std.stream.EndianStream</tt> with
<a class="reference external" href="https://github.com/kiith-sa/tinyendian">tinyendian</a>.</li>
<li>D:YAML is now a DUB package.</li>
<li>Removed static data structures such as default Constructor and Resolver.</li>
<li>Compile-time checks for size of data structures that should be small.</li>
<li>Better error messages.</li>
<li>Various refactoring changes, using more 'modern' D features, better tests.</li>
<li>Updated documentation, examples to reflect changes in 0.5.</li>
<li>Updated the <tt class="docutils literal">yaml_bench</tt> example/tool with options to keep the input file in memory
instead of reloading it for repeated parses, and to only benchmark scanning time
instead of the entire parser.</li>
<li>The <tt class="docutils literal">yaml_gen</tt> example/tool can now generate strings from user-specified alphabets
which may contain non-ASCII characters.</li>
</ul>
</div>
<div class="section" id="bugfixes">
<h2>Bugfixes</h2>
<ul class="simple">
<li>Fixed mappings longer than 65535 lines.</li>
<li>Removed a lot of <tt class="docutils literal">in</tt> parameters that were used due to a misunderstanding of what
<tt class="docutils literal">in</tt> is supposed to do.</li>
<li>Fixed <tt class="docutils literal">real</tt> emitting.</li>
<li>Fixed 32bit compilation (again).</li>
<li>Various small bugfixes.</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h1>0.4.0</h1>
<div class="section" id="features-improvements">
<h2>Features/improvements</h2>
<ul class="simple">
<li><strong>API BREAKING</strong>: All structs and classes stored directly in YAML nodes
(aka custom YAML data types) now need to define the opCmp operator.
This is used for duplicate detection instead of AAs (which are broken)
and will allow efficient access to data in unordered maps.</li>
<li><strong>API BREAKING</strong>: Simplified the Constructor API. Constructor functions now
don't need to get Marks through parameters - any exceptions thrown by
the constructor functions are caught and wrapped along with Mark info.</li>
<li>Various small improvements in the API documentation.</li>
<li>Updated API documentation, tutorials and examples to match the changes.</li>
<li>Small CDC (build script) improvements.</li>
</ul>
</div>
<div class="section" id="id3">
<h2>Bugfixes</h2>
<ul class="simple">
<li>Fixed compilation with DMD 2.057.</li>
<li>Fixed a bug caused by std.regex changes that broke null value parsing.</li>
<li>Fixed compilation on 32bit.</li>
<li>Various small bugfixes.</li>
</ul>
</div>
</div>
<div class="section" id="id4">
<h1>0.3.0</h1>
<div class="section" id="id5">
<h2>Features/improvements</h2>
<ul class="simple">
<li><strong>API BREAKING</strong>: Removed Node.getToVar as it turned out to be a premature
optimization.</li>
<li><strong>API BREAKING</strong>: Constructor API for constructing custom YAML data types has
been improved to make it easier to load custom classes/structs. See the
custom types tutorial and Constructor API documentation.</li>
<li>Node.opIndex now returns a reference to a node.</li>
<li>Added a shortcut alias Node.as for Node.get . Node.as might eventually
replace Node.get (in a 1.0 release).</li>
<li>User can now access a string representation of tag of a node.</li>
<li>Nodes now remember their scalar and collection styles between loading and
dumping. These are not accessible to user. User can set output styles in
Representer.</li>
<li>Updated API documentation to reflect the new changes, added more examples
and overall made the documentation more readable.</li>
<li>Improved error messages of exceptions.</li>
<li>Drastically optimized scanning and parsing, decreasing parsing time to about
10% (no precise benchmark comparison with 0.2 at the moment).</li>
<li>Eliminated most GC usage, improving speed and memory usage.</li>
<li>Optimized Dumper for speed, especially when dumping many small files.</li>
<li>Reader has been reimplemented to improve performance.</li>
<li>Many other speed and memory optimizations.</li>
<li>Added a profiling build target and a parsing/dumping benchmark.</li>
<li>Added a random YAML file generator and a YAML file analyzer, as example
applications and for benchmarking.</li>
<li>Added a &quot;clean&quot; target to example Makefiles.</li>
<li>Got rid of all global state.</li>
</ul>
</div>
<div class="section" id="id6">
<h2>Bugfixes</h2>
<ul class="simple">
<li>Fixed compatibility issues with DMD 2.056.</li>
<li>Fixed an Emitter bug which caused tags to always be emitted in full format.</li>
<li>Fixed a bug that caused errors when loading documents with YAML version
directives.</li>
<li>Fixed many const-correctness bugs.</li>
<li>Minor bugfixes all over the code.</li>
<li>Fixed many documentation bugs.</li>
</ul>
</div>
</div>
<div class="section" id="id7">
<h1>0.2.0</h1>
<div class="section" id="id8">
<h2>Features/improvements</h2>
<ul class="simple">
<li>Implemented YAML emitter, and related unittests/documentation.</li>
<li>Tags are now stored in nodes, allowing D:YAML to be closer to the
specification.</li>
<li>Loader API has been broken to make it more extensible in future -
Representer and Constructor are no more specified in the constructor,
and the load() shortcut functions have been removed, as all that's needed to
load a YAML document now is Loader(&quot;file.yaml&quot;).load() .</li>
</ul>
</div>
<div class="section" id="id9">
<h2>Bugfixes</h2>
<blockquote>
<ul class="simple">
<li>Fixed many bugs in the parser, scanner, composer and constructor.</li>
</ul>
</blockquote>
</div>
</div>
</div>
</body>
</html>
